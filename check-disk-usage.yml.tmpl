---
type: CheckConfig
api_version: core/v2
metadata:
  name: check-disk-usage
spec:
  command: check-disk-usage --include-fs-type "xfs" --exclude-fs-path "/boot" --warning 90 --critical 95 --metrics
  output_metric_format: prometheus_text
  pipelines:
  - api_version: core/v2
    name: metrics-pipeline
    type: Pipeline
  runtime_assets:
  - check-disk-usage
  subscriptions:
  - system
  interval: 60
  publish: true
---
type: Asset
api_version: core/v2
metadata:
  name: check-disk-usage
spec:
  builds:
  - url: http://192.168.56.254/check-disk-usage.tar.gz
    sha512: 9c90044c2d0c453589c37c6699ca461040e7dbefeffff5c1c9f2c13eea3e050791e798be701ec56155d2b740059e2a3fdb02509f03ca46c938b9104f84d2e2c8
    filters:
    - entity.system.os == 'linux'
    - entity.system.arch == 'amd64'
