---
type: CheckConfig
api_version: core/v2
metadata:
  name: check-disk-usage
spec:
  command: check-disk-usage --include-fs-type "xfs" --exclude-fs-path "/boot" --warning 90 --critical 95 --metrics
  output_metric_format: prometheus_text
  pipelines:
  - api_version: core/v2
    name: metrics-pipeline
    type: Pipeline
  runtime_assets:
  - check-disk-usage
  subscriptions:
  - system
  interval: 60
  publish: true
---
type: Asset
api_version: core/v2
metadata:
  name: check-disk-usage
spec:
  builds:
  - url: http://192.168.56.254/check-disk-usage.tar.gz
    sha512: 2f13d2d2f4bcf9bf8733167fe91e82e2dc68a400b3e02c1e19f9aea9e0e87244e9f84dd9a86d46b55285f4c001b76d04b26e8cc4e66e8a0b2ea621edb9f57e03
    filters:
    - entity.system.os == 'linux'
    - entity.system.arch == 'amd64'
